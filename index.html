<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love you</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="bg_heart"></div>
    <div id="container">
        <div class="date-block active">
            <h2>Этот день изменил всё ❤️</h2>
            <p class="date-info date-display" data-target-date="2025-04-12"></p>
            <p class="date-info days-count">Дней прошло: </p>
        </div>
        <div class="date-block">
            <h2>Судьба носный день нашей встречи ❤️</h2>
            <p class="date-info date-display" data-target-date="2025-01-04"></p>
            <p class="date-info days-count">Дней прошло: </p>
        </div>
    </div>   
    <footer>
        P.S. Ты самое лучшее, что со мной случилось
    </footer>
    <script>
        // Функция для форматирования даты
        function formatDate(date) {
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
            };
            return date.toLocaleDateString('ru-RU', options);
        }
        
        // Функция для вычисления разницы в днях
        function getDaysSinceDate(targetDate) {
            const target = new Date(targetDate);
            const now = new Date();
            // Устанавливаем время на 00:00:00 для точного подсчета дней
            target.setHours(0, 0, 0, 0);
            now.setHours(0, 0, 0, 0);
            
            const differenceMs = now - target;
            return Math.floor(differenceMs / (1000 * 60 * 60 * 24));
        }
        
        // Функция для переключения между блоками
        function toggleDateBlocks() {
            const blocks = document.querySelectorAll('.date-block');
            let currentIndex = 0;
            
            // Находим индекс активного блока
            blocks.forEach((block, index) => {
                if (block.classList.contains('active')) {
                    currentIndex = index;
                }
            });
            
            // Скрываем текущий блок
            blocks[currentIndex].classList.remove('active');
            
            // Показываем следующий блок (или первый, если текущий последний)
            const nextIndex = (currentIndex + 1) % blocks.length;
            blocks[nextIndex].classList.add('active');
        }


        // Ждем полной загрузки DOM
        document.addEventListener('DOMContentLoaded', function() {
            // Находим все блоки с датами
            const dateBlocks = document.querySelectorAll('.date-block');
            
            // Обрабатываем каждый блок
            dateBlocks.forEach(block => {
                // Находим элементы внутри блока
                const dateDisplay = block.querySelector('.date-display');
                const daysCount = block.querySelector('.days-count');
                
                // Получаем дату из атрибута data-target-date
                const targetDate = dateDisplay.getAttribute('data-target-date');
                
                // Вычисляем значения
                const targetDateObj = new Date(targetDate);
                const daysPassed = getDaysSinceDate(targetDate);
                
                // Выводим в элементы
                dateDisplay.textContent = formatDate(targetDateObj);
                daysCount.textContent += daysPassed;
                
                // Выводим в консоль
                console.log(`Заданная дата: ${formatDate(targetDateObj)}`);
                console.log(`Прошло дней: ${daysPassed}`);
            });
        });

         // Добавляем обработчик клика на контейнер
         document.getElementById('container').addEventListener('click', toggleDateBlocks);
    </script>
    <script src="index.js"></script>
</body>
</html>